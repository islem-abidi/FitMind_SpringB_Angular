<div class="container mt-5">
  <h3 class="text-center mb-4">🔐 Changer le mot de passe</h3>

  <form (ngSubmit)="changePassword()" class="w-50 mx-auto">
    <div class="form-group mb-3">
      <label for="currentPassword">Mot de passe actuel</label>
      <input type="password" id="currentPassword" [(ngModel)]="currentPassword" name="currentPassword" class="form-control" required />
    </div>

    <div class="form-group mb-3">
      <label for="newPassword">Nouveau mot de passe</label>
      <input type="password" id="newPassword" [(ngModel)]="newPassword" name="newPassword" class="form-control" required />
    </div>

    <div class="form-group mb-3">
      <label for="confirmPassword">Confirmer le mot de passe</label>
      <input type="password" id="confirmPassword" [(ngModel)]="confirmPassword" name="confirmPassword" class="form-control" required />
    </div>

    <button type="submit" class="btn btn-success w-100" [disabled]="isLoading">
      <span *ngIf="!isLoading">Valider</span>
      <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
    </button>
    
    <div *ngIf="successMessage" class="alert alert-success alert-dismissible fade show mt-4" role="alert">
      ✅ {{ successMessage }}
      <button type="button" class="btn-close" (click)="successMessage = ''" aria-label="Close"></button>
    </div>

    <div *ngIf="errorMessage" class="alert alert-danger alert-dismissible fade show mt-4" role="alert">
      ❌ {{ errorMessage }}
      <button type="button" class="btn-close" (click)="errorMessage = ''" aria-label="Close"></button>
    </div>
    
  </form>
</div>
